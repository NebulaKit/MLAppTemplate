{% extends "base.html" %}
{% block title %}Step 4 â€“ Explain Model{% endblock %}
{% block content %}
    <h2>Step 4: Explain XGBoost Classifier</h2>

    {% if is_multiclass %}
        <p><strong>Detected task:</strong> Multiclass classification ({{ n_classes }} classes)</p>
    {% else %}
        <p><strong>Detected task:</strong> Binary classification</p>
    {% endif %}

    <div class="container mt-4">
        <div class="row">
            {% for class_name, plot in shap_plots %}
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4 d-flex flex-column align-items-center">
                    <h6 class="text-center">{{ class_name }}</h6>
                    <img src="data:image/png;base64,{{ plot }}" class="img-fluid border rounded shadow-sm" />
                </div>
            {% endfor %}
        </div>
    </div>

    <!-- Navigation Buttons -->
    <div class="mt-4 d-flex justify-content-between">
        <a href="/train" class="btn btn-outline-secondary">&lt; Back</a>
    </div>
{% endblock %}
